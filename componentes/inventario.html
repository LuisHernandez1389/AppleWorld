<html><head><base href="." target="_blank">
    <meta charset="UTF-8">
    <title>Sistema de Inventario</title>
    <style>
    :root {
      --primary: #1976D2;
      --secondary: #FF5722;
      --background: #FFFFFF;
      --text: #263238;
      --hover: #FF7043;
      --success: #4CAF50;
      --danger: #f44336;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', system-ui, sans-serif;
    }
    
    body {
      background: var(--background);
      color: var(--text);
      padding: 20px;
      min-height: 100vh;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 20px;
    }
    
    .product-form {
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(25, 118, 210, 0.15);
      border: 2px solid rgba(25, 118, 210, 0.1);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      gap: 15px;
      height: fit-content;
      position: sticky;
      top: 20px;
    }
    
    .product-form::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
    }
    
    .product-form input, .product-form select {
      width: 100%;
      padding: 15px;
      border: 2px solid #BBDEFB;
      border-radius: 8px;
      font-size: 16px;
      outline: none;
      transition: all 0.3s ease;
      background: #F8FBFE;
    }
    
    .product-form input:focus, .product-form select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.1);
      background: white;
    }
    
    .products-table {
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(25, 118, 210, 0.15);
      border: 2px solid rgba(255, 87, 34, 0.1);
      position: relative;
    }
    
    .products-table::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--secondary), #FF8A65);
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    
    th, td {
      padding: 15px;
      text-align: left;
      border-bottom: 1px solid #E3F2FD;
    }
    
    th {
      background: #F5F9FF;
      color: var(--primary);
      font-weight: 600;
    }
    
    tr:hover {
      background-color: #FFF3E0;
    }
    
    .btn {
      padding: 15px 20px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 600;
      border: none;
      color: white;
    }
    
    .btn-primary {
      background: var(--primary);
    }
    
    .btn-primary:hover {
      background: #1565C0;
    }
    
    .btn-danger {
      background: var(--danger);
    }
    
    .btn-danger:hover {
      background: #d32f2f;
    }
    
    .btn-edit {
      background: var(--secondary);
    }
    
    .btn-edit:hover {
      background: var(--hover);
    }
    
    .action-buttons {
      display: flex;
      gap: 10px;
    }
    
    .alert {
      padding: 12px 20px;
      border-radius: 8px;
      margin: 10px 0;
      display: none;
      font-weight: 500;
    }
    
    .alert-error {
      background: #FFEBEE;
      color: #C62828;
      border: 1px solid #FFCDD2;
    }
    
    .alert-success {
      background: #E8F5E9;
      color: #2E7D32;
      border: 1px solid #C8E6C9;
    }
    
    h2 {
      color: var(--primary);
      margin-bottom: 20px;
      font-size: 1.5em;
      border-bottom: 2px solid #E3F2FD;
      padding-bottom: 10px;
      position: relative;
    }
    
    h2::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 50px;
      height: 2px;
      background: var(--primary);
    }
    
    .empty-message {
      text-align: center;
      color: #90A4AE;
      padding: 30px;
      font-style: italic;
    }
    </style>
    </head>
    <body>
    <div class="container">
      <form class="product-form" id="productForm">
        <h2>Gestión de Productos</h2>
        <input type="hidden" id="productId">
        <input type="text" 
               id="nameInput" 
               placeholder="Nombre del producto"
               required>
        <textarea 
               id="descriptionInput" 
               placeholder="Descripción del producto"
               required
               style="width: 100%; padding: 15px; border: 2px solid #BBDEFB; border-radius: 8px; font-size: 16px; outline: none; transition: all 0.3s ease; background: #F8FBFE; min-height: 100px;"></textarea>
        <input type="number" 
               id="stockInput" 
               placeholder="Stock"
               required>
        <input type="number" 
               id="priceInput" 
               placeholder="Precio"
               step="0.01"
               required>
        <div id="productAlert" class="alert"></div>
        <button type="submit" class="btn btn-primary" id="submitBtn">Agregar Producto</button>
      </form>
    
      <div class="products-table">
        <h2>Inventario de Productos</h2>
        <div id="productsTableContainer">
          <table>
            <thead>
              <tr>
                <th>Nombre</th>
                <th>Descripción</th>
                <th>Stock</th>
                <th>Precio</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody id="productsTableBody">
            </tbody>
          </table>
        </div>
      </div>
    </div>
    
    <script>
    let products = new Map();
    let nextId = 1;
    let isEditing = false;
    
    const productForm = document.getElementById('productForm');
    const productId = document.getElementById('productId');
    const nameInput = document.getElementById('nameInput');
    const descriptionInput = document.getElementById('descriptionInput');
    const stockInput = document.getElementById('stockInput');
    const priceInput = document.getElementById('priceInput');
    const productAlert = document.getElementById('productAlert');
    const submitBtn = document.getElementById('submitBtn');
    const productsTableBody = document.getElementById('productsTableBody');
    
    productForm.addEventListener('submit', (e) => {
      e.preventDefault();
      
      const product = {
        id: isEditing ? parseInt(productId.value) : nextId++,
        name: nameInput.value.trim(),
        description: descriptionInput.value.trim(),
        stock: parseInt(stockInput.value),
        price: parseFloat(priceInput.value)
      };
    
      if (isEditing) {
        updateProduct(product);
      } else {
        addProduct(product);
      }
      
      resetForm();
    });
    
    function showAlert(message, type) {
      productAlert.textContent = message;
      productAlert.className = `alert alert-${type}`;
      productAlert.style.display = 'block';
      
      setTimeout(() => {
        productAlert.style.display = 'none';
      }, 3000);
    }
    
    function addProduct(product) {
      products.set(product.id, product);
      updateProductsView();
      showAlert('Producto agregado exitosamente', 'success');
    }
    
    function updateProduct(product) {
      products.set(product.id, product);
      updateProductsView();
      showAlert('Producto actualizado exitosamente', 'success');
    }
    
    function deleteProduct(id) {
      products.delete(id);
      updateProductsView();
      showAlert('Producto eliminado exitosamente', 'success');
    }
    
    function editProduct(id) {
      const product = products.get(id);
      if (!product) return;
    
      productId.value = product.id;
      nameInput.value = product.name;
      descriptionInput.value = product.description;
      stockInput.value = product.stock;
      priceInput.value = product.price;
    
      submitBtn.textContent = 'Actualizar Producto';
      isEditing = true;
    }
    
    function resetForm() {
      productForm.reset();
      productId.value = '';
      submitBtn.textContent = 'Agregar Producto';
      isEditing = false;
    }
    
    function updateProductsView() {
      productsTableBody.innerHTML = '';
    
      if (products.size === 0) {
        productsTableBody.innerHTML = `
          <tr>
            <td colspan="5">
              <div class="empty-message">No hay productos registrados</div>
            </td>
          </tr>
        `;
        return;
      }
    
      for (const [id, product] of products) {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${product.name}</td>
          <td>${product.description}</td>
          <td>${product.stock}</td>
          <td>$${product.price.toFixed(2)}</td>
          <td>
            <div class="action-buttons">
              <button class="btn btn-edit" onclick="editProduct(${id})">
                Editar
              </button>
              <button class="btn btn-danger" onclick="deleteProduct(${id})">
                Eliminar
              </button>
            </div>
          </td>
        `;
        productsTableBody.appendChild(row);
      }
    }
    
    updateProductsView();
    </script>
    </body></html>